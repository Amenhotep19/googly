{"version":3,"sources":["webpack:///./src/1.png","webpack:///./src/instructions.js","webpack:///./src/Thumb.js","webpack:///./src/Example.js","webpack:///./src/0.png","webpack:///./src/index.js","webpack:///./src/App.js"],"names":["module","exports","__webpack_require__","p","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__0_png___default","a","__WEBPACK_IMPORTED_MODULE_1__1_png___default","Wrapper","__WEBPACK_IMPORTED_MODULE_2_styled_components__","div","_templateObject","Face","_templateObject2","props","width","height","top","left","Eye","_templateObject3","y","x","Mouth","_templateObject4","Thumb","state","faces","_imgRef","img","_this","_detectFaces","_callee","faceDetector","__WEBPACK_IMPORTED_MODULE_0__Users_lokuzt_Workspace_Github_googly_node_modules_babel_runtime_regenerator___default","wrap","_context","prev","next","window","FaceDetector","detect","sent","setState","stop","_this2","componentWillReceiveProps","nextProps","this","reader","readAsDataURL","file","componentDidMount","_this3","FileReader","onloadend","src","result","onload","render","_props","index","__WEBPACK_IMPORTED_MODULE_1_react___default","createElement","alt","name","ref","map","face","faceIndex","_face$boundingBox","boundingBox","key","landmarks","landmark","_landmark$location","location","type","__WEBPACK_IMPORTED_MODULE_1_react__","SUPPORTED","Files","__WEBPACK_IMPORTED_MODULE_1_styled_components__","__WEBPACK_IMPORTED_MODULE_0_react___default","Example","files","_handleUpload","event","Array","from","target","filter","ext","split","pop","includes","onChange","_ref","__WEBPACK_IMPORTED_MODULE_2__Thumb__","__WEBPACK_IMPORTED_MODULE_0_react__","Object","injectGlobal","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_3__App__","document","querySelector","Container","Inner","__WEBPACK_IMPORTED_MODULE_1_react_markdown___default","source","__WEBPACK_IMPORTED_MODULE_4__instructions__","escapeHtml","__WEBPACK_IMPORTED_MODULE_3__Example__","App","isEnabled","content"],"mappings":"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","file":"app.92c39fe7.js","sourcesContent":["module.exports = __webpack_public_path__ + \"1.3184cd50.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/1.png\n// module id = 80oq\n// module chunks = 1","import img0 from \"./0.png\";\nimport img1 from \"./1.png\";\n\nexport default `\n# Looks like you still haven't activated the FaceDetector API\n\n## Follow these instructions\n\n### Copy and paste this into a new tab\n\n\\`\\`\\`shell\nchrome://flags/#enable-experimental-web-platform-features\n\\`\\`\\`\n\n### And enable the experimental web platform features\n\n![enabling the api](/${img0})\n\n### After enabling it you should see a **Relaunch Now** button on the bottom of the screen.\n\n![relaunch chrome](/${img1})\n\n### Relaunch the browser please.\n`;\n\n\n// WEBPACK FOOTER //\n// ./src/instructions.js","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  z-index: 5;\n  position: relative;\n`;\n\nconst Face = styled.div`\n  position: absolute;\n  border: 1px solid yellow;\n  width: ${props => props.width}px;\n  height: ${props => props.height}px;\n  top: ${props => props.top}px;\n  left: ${props => props.left}px;\n`;\n\nconst Eye = styled.div`\n  width: 30%;\n  height: 30%;\n  position: absolute;\n  border: 1px solid blue;\n  top: calc(${props => props.y - props.top}px - 15%);\n  left: calc(${props => props.x - props.left}px - 15%);\n`;\n\nconst Mouth = styled.div`\n  width: 60%;\n  height: 30%;\n  position: absolute;\n  border: 1px solid orange;\n  top: calc(${props => props.y - props.top}px - 15%);\n  left: calc(${props => props.x - props.left}px - 30%);\n`;\n\nexport default class Thumb extends Component {\n  state = {\n    faces: [],\n  };\n\n  _imgRef = img => (this.img = img);\n\n  _detectFaces = async () => {\n    const faceDetector = new window.FaceDetector();\n\n    const faces = await faceDetector.detect(this.img);\n\n    this.setState({ faces });\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.reader.readAsDataURL(nextProps.file);\n  }\n\n  componentDidMount() {\n    this.reader = new FileReader();\n\n    this.reader.onloadend = () => {\n      this.img.src = this.reader.result;\n    };\n\n    this.img.onload = this._detectFaces;\n\n    this.reader.readAsDataURL(this.props.file);\n  }\n\n  render() {\n    const { file, index } = this.props;\n    const { faces } = this.state;\n\n    return (\n      <Wrapper>\n        <img alt={file.name} ref={this._imgRef} />\n\n        {faces.map((face, faceIndex) => {\n          const { top, left, width, height } = face.boundingBox;\n\n          return (\n            <Face key={`face-${faceIndex}`} top={top} left={left} width={width} height={height}>\n              {face.landmarks.map((landmark, index) => {\n                const { x, y } = landmark.location;\n                const key = `landmark-${faceIndex}-${index}`;\n\n                switch (landmark.type) {\n                  case \"eye\":\n                    return <Eye key={key} x={x} y={y} top={top} left={left} />;\n                  case \"mouth\":\n                    return <Mouth key={key} x={x} y={y} top={top} left={left} />\n                }\n              })}\n            </Face>\n          );\n        })}\n      </Wrapper>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Thumb.js","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\n\nimport Thumb from \"./Thumb\";\n\nconst SUPPORTED = [\"jpg\", \"gif\", \"png\", \"jpeg\"];\n\nconst Files = styled.div`\n  display: flex;\n  justify-content: space-evenly;\n`;\n\nexport default class Example extends Component {\n  state = {\n    files: []\n  };\n\n  _handleUpload = event => {\n    const files = Array.from(event.target.files).filter(file => {\n      const ext = file.name.split(\".\").pop();\n\n      return SUPPORTED.includes(ext);\n    });\n\n    this.setState({ files });\n  };\n\n  render() {\n    return (\n      <div>\n        <input type=\"file\" onChange={this._handleUpload} />\n\n        <hr />\n\n        <Files>\n          {this.state.files.map((file, index) => (\n            <Thumb key={`thumb-${index}`} file={file} index={index} />\n          ))}\n        </Files>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Example.js","module.exports = __webpack_public_path__ + \"0.6354757d.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/0.png\n// module id = jfML\n// module chunks = 1","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { injectGlobal } from \"styled-components\";\n\nimport App from \"./App\";\n\ninjectGlobal`\n    * { box-sizing: border-box; font-family: 'Roboto', sans-serif; }\n    body { \n        margin: 0; \n        background: #76b852; \n        background: linear-gradient(to left, #76b852, #8DC26F); \n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: antialiased;\n    }\n`;\n\nrender(<App />, document.querySelector(\"#app\"));\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React, { Component } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport styled from \"styled-components\";\n\nimport Example from \"./Example\";\n\nimport instructions from \"./instructions\";\n\nconst Container = styled.div`\n  width: 55%;\n  margin: auto;\n  padding: 8% 0 0;\n`;\n\nconst Inner = styled.div`\n  z-index: 1;\n  width: 100%;\n  padding: 45px;\n  background: white;\n  position: relative;\n  margin: 0 auto 100px;\n  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);\n`;\n\nclass App extends Component {\n  state = {\n    isEnabled: false\n  };\n\n  componentDidMount() {\n    if (typeof window.FaceDetector === \"undefined\") {\n      return;\n    }\n\n    this.setState({ isEnabled: true });\n  }\n\n  render() {\n    let content = null;\n\n    if (!this.state.isEnabled) {\n      content = <ReactMarkdown source={instructions} escapeHtml={false} />;\n    } else {\n      content = <Example />;\n    }\n\n    return (\n      <Container>\n        <Inner>{content}</Inner>\n      </Container>\n    );\n  }\n}\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.js"],"sourceRoot":""}