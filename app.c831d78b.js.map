{"version":3,"sources":["webpack:///./src/Thumb.js","webpack:///./src/Example.js","webpack:///./src/instructions.md","webpack:///./src/index.js","webpack:///./src/App.js"],"names":["Wrapper","__WEBPACK_IMPORTED_MODULE_2_styled_components__","div","_templateObject","Face","_templateObject2","props","width","height","top","left","Eye","_templateObject3","y","x","Mouth","_templateObject4","Thumb","state","faces","_imgRef","img","_this","_detectFaces","_callee","faceDetector","__WEBPACK_IMPORTED_MODULE_0__Users_lokuzt_Workspace_Github_googly_node_modules_babel_runtime_regenerator___default","a","wrap","_context","prev","next","window","FaceDetector","detect","sent","setState","stop","_this2","componentWillReceiveProps","nextProps","this","reader","readAsDataURL","file","componentDidMount","_this3","FileReader","onloadend","src","result","onload","render","_props","index","__WEBPACK_IMPORTED_MODULE_1_react___default","createElement","alt","name","ref","map","face","faceIndex","_face$boundingBox","boundingBox","key","landmarks","landmark","_landmark$location","location","type","__WEBPACK_IMPORTED_MODULE_1_react__","SUPPORTED","Files","__WEBPACK_IMPORTED_MODULE_1_styled_components__","__WEBPACK_IMPORTED_MODULE_0_react___default","Example","files","_handleUpload","event","Array","from","target","filter","ext","split","pop","includes","onChange","_ref","__WEBPACK_IMPORTED_MODULE_2__Thumb__","_ref2","__WEBPACK_IMPORTED_MODULE_0_react__","module","exports","Object","injectGlobal","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_3__App__","document","querySelector","Container","Inner","__WEBPACK_IMPORTED_MODULE_1_react_markdown___default","source","__WEBPACK_IMPORTED_MODULE_4__instructions_md___default","escapeHtml","__WEBPACK_IMPORTED_MODULE_3__Example__","App","isEnabled","content","__webpack_exports__"],"mappings":"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","file":"app.c831d78b.js","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  z-index: 5;\n  position: relative;\n`;\n\nconst Face = styled.div`\n  position: absolute;\n  border: 1px solid yellow;\n  width: ${props => props.width}px;\n  height: ${props => props.height}px;\n  top: ${props => props.top}px;\n  left: ${props => props.left}px;\n`;\n\nconst Eye = styled.div`\n  width: 30%;\n  height: 30%;\n  position: absolute;\n  border: 1px solid blue;\n  top: calc(${props => props.y - props.top}px - 15%);\n  left: calc(${props => props.x - props.left}px - 15%);\n`;\n\nconst Mouth = styled.div`\n  width: 60%;\n  height: 30%;\n  position: absolute;\n  border: 1px solid orange;\n  top: calc(${props => props.y - props.top}px - 15%);\n  left: calc(${props => props.x - props.left}px - 30%);\n`;\n\nexport default class Thumb extends Component {\n  state = {\n    faces: [],\n  };\n\n  _imgRef = img => (this.img = img);\n\n  _detectFaces = async () => {\n    const faceDetector = new window.FaceDetector();\n\n    const faces = await faceDetector.detect(this.img);\n\n    this.setState({ faces });\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.reader.readAsDataURL(nextProps.file);\n  }\n\n  componentDidMount() {\n    this.reader = new FileReader();\n\n    this.reader.onloadend = () => {\n      this.img.src = this.reader.result;\n    };\n\n    this.img.onload = this._detectFaces;\n\n    this.reader.readAsDataURL(this.props.file);\n  }\n\n  render() {\n    const { file, index } = this.props;\n    const { faces } = this.state;\n\n    return (\n      <Wrapper>\n        <img alt={file.name} ref={this._imgRef} />\n\n        {faces.map((face, faceIndex) => {\n          const { top, left, width, height } = face.boundingBox;\n\n          return (\n            <Face key={`face-${faceIndex}`} top={top} left={left} width={width} height={height}>\n              {face.landmarks.map((landmark, index) => {\n                const { x, y } = landmark.location;\n                const key = `landmark-${faceIndex}-${index}`;\n\n                switch (landmark.type) {\n                  case \"eye\":\n                    return <Eye key={key} x={x} y={y} top={top} left={left} />;\n                  case \"mouth\":\n                    return <Mouth key={key} x={x} y={y} top={top} left={left} />\n                }\n              })}\n            </Face>\n          );\n        })}\n      </Wrapper>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Thumb.js","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\n\nimport Thumb from \"./Thumb\";\n\nconst SUPPORTED = [\"jpg\", \"gif\", \"png\", \"jpeg\"];\n\nconst Files = styled.div`\n  display: flex;\n  justify-content: space-evenly;\n`;\n\nexport default class Example extends Component {\n  state = {\n    files: []\n  };\n\n  _handleUpload = event => {\n    const files = Array.from(event.target.files).filter(file => {\n      const ext = file.name.split(\".\").pop();\n\n      return SUPPORTED.includes(ext);\n    });\n\n    this.setState({ files });\n  };\n\n  render() {\n    return (\n      <div>\n        <input type=\"file\" onChange={this._handleUpload} />\n\n        <hr />\n\n        <Files>\n          {this.state.files.map((file, index) => (\n            <Thumb key={`thumb-${index}`} file={file} index={index} />\n          ))}\n        </Files>\n\n        <hr />\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Example.js","module.exports = \"# Looks like you still haven't activated the FaceDetector API\\n\\n## Follow these instructions\\n\\n### Copy and paste this into a new tab\\n\\n```shell\\nchrome://flags/#enable-experimental-web-platform-features\\n```\\n\\n### And enable the experimental web platform features\\n\\n![enabling the api](src/0.png)\\n\\n### After enabling it you should see a **Relaunch Now** button on the bottom of the screen.\\n\\n![relaunch chrome](src/1.png)\\n\\n### Relaunch the browser please.\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/instructions.md\n// module id = ZW1U\n// module chunks = 1","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { injectGlobal } from \"styled-components\";\n\nimport App from \"./App\";\n\ninjectGlobal`\n    * { box-sizing: border-box; font-family: 'Roboto', sans-serif; }\n    body { \n        margin: 0; \n        background: #76b852; \n        background: linear-gradient(to left, #76b852, #8DC26F); \n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: antialiased;\n    }\n`;\n\nrender(<App />, document.querySelector(\"#app\"));\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React, { Component } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport styled from \"styled-components\";\n\nimport Example from \"./Example\";\n\nimport instructions from \"./instructions.md\";\n\nconst Container = styled.div`\n  width: 55%;\n  margin: auto;\n  padding: 8% 0 0;\n`;\n\nconst Inner = styled.div`\n  z-index: 1;\n  width: 100%;\n  padding: 45px;\n  background: white;\n  position: relative;\n  margin: 0 auto 100px;\n  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);\n`;\n\nclass App extends Component {\n  state = {\n    isEnabled: false\n  };\n\n  componentDidMount() {\n    if (typeof window.FaceDetector === \"undefined\") {\n      return;\n    }\n\n    this.setState({ isEnabled: true });\n  }\n\n  render() {\n    let content = null;\n\n    if (!this.state.isEnabled) {\n      content = <ReactMarkdown source={instructions} escapeHtml={false} />;\n    } else {\n      content = <Example />;\n    }\n\n    return (\n      <Container>\n        <Inner>{content}</Inner>\n      </Container>\n    );\n  }\n}\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.js"],"sourceRoot":""}