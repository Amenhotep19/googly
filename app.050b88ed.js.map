{"version":3,"sources":["webpack:///./src/1.png","webpack:///./src/Thumb.js","webpack:///./src/Example.js","webpack:///./src/instructions.md","webpack:///./src/0.png","webpack:///./src/index.js","webpack:///./src/App.js"],"names":["module","exports","__webpack_require__","p","Wrapper","__WEBPACK_IMPORTED_MODULE_2_styled_components__","div","_templateObject","Face","_templateObject2","Eye","_templateObject3","Mouth","_templateObject4","Thumb","_imgRef","img","_this","_faceRef","face","_mouthRef","mouth","_leftEyeRef","leftEye","_wrapperRef","wrapper","_rightEyeRef","rightEye","_detectFaces","_callee","faceDetector","__WEBPACK_IMPORTED_MODULE_0__home_joao_wm_github_googly_node_modules_babel_runtime_regenerator___default","a","wrap","_context","prev","next","window","FaceDetector","detect","sent","forEach","_face$boundingBox","boundingBox","top","left","width","height","style","cssText","landmarks","landmark","index","_landmark$location","location","x","y","type","css","stop","_this2","componentDidMount","_this3","this","reader","FileReader","onloadend","src","result","setTimeout","readAsDataURL","props","file","render","_props","__WEBPACK_IMPORTED_MODULE_1_react___default","createElement","innerRef","alt","name","ref","__WEBPACK_IMPORTED_MODULE_1_react__","SUPPORTED","Files","__WEBPACK_IMPORTED_MODULE_1_styled_components__","__WEBPACK_IMPORTED_MODULE_0_react___default","Example","state","files","_handleUpload","event","Array","from","target","filter","ext","split","pop","includes","setState","onChange","_ref","map","__WEBPACK_IMPORTED_MODULE_2__Thumb__","key","_ref2","__WEBPACK_IMPORTED_MODULE_0_react__","Object","injectGlobal","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_3__App__","document","querySelector","Container","Inner","__WEBPACK_IMPORTED_MODULE_1_react_markdown___default","source","__WEBPACK_IMPORTED_MODULE_4__instructions_md___default","__WEBPACK_IMPORTED_MODULE_3__Example__","App","isEnabled","content","__webpack_exports__"],"mappings":"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","file":"app.050b88ed.js","sourcesContent":["module.exports = __webpack_public_path__ + \"1.3184cd50.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/1.png\n// module id = 80oq\n// module chunks = 1","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  z-index: 5;\n  position: relative;\n`;\n\nconst Face = styled.div`\n  position: absolute;\n  border: 1px solid yellow;\n`;\n\nconst Eye = styled.div`\n  position: absolute;\n  border: 1px solid blue;\n`;\n\nconst Mouth = styled.div`\n  position: absolute;\n  border: 1px solid orange;\n`;\n\nexport default class Thumb extends Component {\n  _imgRef = img => (this.img = img);\n  _faceRef = face => (this.face = face);\n  _mouthRef = mouth => (this.mouth = mouth);\n  _leftEyeRef = leftEye => (this.leftEye = leftEye);\n  _wrapperRef = wrapper => (this.wrapper = wrapper);\n  _rightEyeRef = rightEye => (this.rightEye = rightEye);\n\n  _detectFaces = async () => {\n    const faceDetector = new window.FaceDetector();\n\n    const faces = await faceDetector.detect(this.img);\n\n    faces.forEach(face => {\n      const { top, left, width, height } = face.boundingBox;\n\n      this.face.style.cssText = `\n            width: ${width}px;\n            height: ${height}px;\n            top: ${top}px;\n            left: ${left}px;\n        `;\n\n      face.landmarks.forEach((landmark, index) => {\n        const { x, y } = landmark.location;\n\n        switch (landmark.type) {\n          case \"eye\":\n            const css = `\n                    width: 35%;\n                    height: 35%;\n                    top: ${y - top}px;\n                    left: ${x - left}px;\n                `;\n\n            if (index === 0) {\n              this.leftEye.style.cssText = css;\n            } else {\n              this.rightEye.style.cssText = css;\n            }\n            break;\n          case \"mouth\":\n            this.mouth.style.cssText = `\n                    width: 50%;\n                    height: 20%;\n                    top: ${y - top}px;\n                    left: ${x - left}px;\n                `;\n            break;\n        }\n      });\n    });\n  };\n\n  componentDidMount() {\n    const reader = new FileReader();\n\n    reader.onloadend = () => {\n      this.img.src = reader.result;\n\n      // welp\n      setTimeout(this._detectFaces, 750);\n    };\n\n    reader.readAsDataURL(this.props.file);\n  }\n\n  render() {\n    const { file, index } = this.props;\n\n    return (\n      <Wrapper innerRef={this._wrapperRef}>\n        <img alt={file.name} ref={this._imgRef} />\n        <Face innerRef={this._faceRef} />\n        <Eye innerRef={this._leftEyeRef} />\n        <Eye innerRef={this._rightEyeRef} />\n        <Mouth innerRef={this._mouthRef} />\n      </Wrapper>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Thumb.js","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\n\nimport Thumb from \"./Thumb\";\n\nconst SUPPORTED = [\"jpg\", \"gif\", \"png\", \"jpeg\"];\n\nconst Files = styled.div`\n  display: flex;\n  justify-content: space-evenly;\n`;\n\nexport default class Example extends Component {\n  state = {\n    files: []\n  };\n\n  _handleUpload = event => {\n    const files = Array.from(event.target.files).filter(file => {\n      const ext = file.name.split(\".\").pop();\n\n      return SUPPORTED.includes(ext);\n    });\n\n    this.setState({ files });\n  };\n\n  render() {\n    return (\n      <div>\n        <input type=\"file\" onChange={this._handleUpload} />\n\n        <hr />\n\n        <Files>\n          {this.state.files.map((file, index) => (\n            <Thumb key={`thumb-${index}`} file={file} index={index} />\n          ))}\n        </Files>\n\n        <hr />\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Example.js","module.exports = \"# Looks like you still haven't activated the FaceDetector API\\n\\n## Follow these instructions\\n\\n### Copy and paste this into a new tab\\n\\n```shell\\nchrome://flags/#enable-experimental-web-platform-features\\n```\\n\\n### And enable the experimental web platform features\\n\\n![enabling the api](0.png)\\n\\n### After enabling it you should see a **Relaunch Now** button on the bottom of the screen.\\n\\n![relaunch chrome](1.png)\\n\\n### Relaunch the browser please.\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/instructions.md\n// module id = ZW1U\n// module chunks = 1","module.exports = __webpack_public_path__ + \"0.6354757d.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/0.png\n// module id = jfML\n// module chunks = 1","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { injectGlobal } from \"styled-components\";\n\nimport App from \"./App\";\n\nimport \"./0.png\";\nimport \"./1.png\";\n\ninjectGlobal`\n    * { box-sizing: border-box; font-family: 'Roboto', sans-serif; }\n    body { \n        margin: 0; \n        background: #76b852; \n        background: linear-gradient(to left, #76b852, #8DC26F); \n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: antialiased;\n    }\n`;\n\nrender(<App />, document.querySelector(\"#app\"));\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React, { Component } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport styled from \"styled-components\";\n\nimport Example from \"./Example\";\n\nimport instructions from \"./instructions.md\";\n\nconst Container = styled.div`\n  width: 55%;\n  margin: auto;\n  padding: 8% 0 0;\n`;\n\nconst Inner = styled.div`\n  z-index: 1;\n  width: 100%;\n  padding: 45px;\n  background: white;\n  position: relative;\n  margin: 0 auto 100px;\n  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);\n`;\n\nclass App extends Component {\n  state = {\n    isEnabled: false\n  };\n\n  componentDidMount() {\n    if (typeof window.FaceDetector === \"undefined\") {\n      return;\n    }\n\n    this.setState({ isEnabled: true });\n  }\n\n  render() {\n    let content = null;\n\n    if (!this.state.isEnabled) {\n      content = <ReactMarkdown source={instructions} />;\n    } else {\n      content = <Example />;\n    }\n\n    return (\n      <Container>\n        <Inner>{content}</Inner>\n      </Container>\n    );\n  }\n}\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.js"],"sourceRoot":""}